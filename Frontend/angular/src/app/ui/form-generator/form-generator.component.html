<div
  [ngStyle]="
    uiElement.style ? uiElement.style : config.get('formGenerator.style')
  "
  [ngClass]="
    uiElement.class ? uiElement.class : config.get('formGenerator.class')
  "
>
  <div
    *ngFor="let ui of uiElement.screen"
    [ngStyle]="ui.style ? ui.style : config.get('formGenerator.section.style')"
    [ngClass]="ui.style ? ui.style : config.get('formGenerator.section.class')"
  >
    <ng-container *ngIf="condition(ui)">
      <!-- Form Group Header -->
      <div
        [ngStyle]="
          ui.header?.style
            ? ui?.header?.style
            : config.get('formGenerator.header.style')
        "
        [ngClass]="
          ui.header?.class
            ? ui?.header?.class
            : config.get('formGenerator.header.class')
        "
        (click)="ui.expanded = !ui.expanded"
        *ngIf="ui.header.display != false"
      >
        <button type="button" mat-icon-button>
          <mat-icon>{{
            ui.expanded == false ? "chevron_right" : "expand_more"
          }}</mat-icon>
        </button>
        <ng-container *ngFor="let header of ui?.header?.screen">
          <ng-container
            ui-layout-wrapper
            *ngIf="condition(header)"
            [uiElement]="header"
            [data]="data"
          ></ng-container>
        </ng-container>
      </div>
      <!-- Form Items -->
      <div
        [style.display]="ui?.expanded == false ? 'none' : 'flex'"
        [ngStyle]="
          ui.container?.style
            ? ui.container?.style
            : config.get('formGenerator.container.style')
        "
        [ngClass]="
          ui.container?.class
            ? ui.container?.class
            : config.get('formGenerator.container.class')
        "
      >
        <ng-container *ngFor="let screen of ui?.screen">
          <ng-container
            ui-layout-wrapper
            *ngIf="condition(screen)"
            [uiElement]="screen"
            [data]="data"
          ></ng-container>
        </ng-container>
      </div>
    </ng-container>
  </div>
</div>
