<!-- material input -->
<mat-form-field
  *ngIf="
    !uiElement.type ||
    !uiElement.inputType ||
    uiElement.inputType == 'text' ||
    uiElement.inputType == 'number' ||
    uiElement.inputType == 'email' ||
    uiElement.inputType == 'password'
  "
  [appearance]="uiElement.appearance"
  [ngStyle]="uiElement.style"
  [ngClass]="uiElement.class"
  [floatLabel]="uiElement.floatLabel ? uiElement.floatLabel : 'always'"
>
  <mat-label>{{ uiElement.label }}</mat-label>
  <input
    matInput
    #input
    [evalValidate]="uiElement.errorCondition"
    [type]="uiElement.inputType ? uiElement.inputType : 'text'"
    [placeholder]="uiElement.placeholder"
    [(ngModel)]="value"
    [required]="uiElement.required"
    [readonly]="uiElement.readonly"
    (keyup.enter)="keyupEnter()"
    (input)="typeAheadEventEmitter.next($event)"
    (focus)="focus($event)"
  />

  <button
    type="button"
    matSuffix
    mat-icon-button
    (click)="click($event)"
    *ngIf="uiElement.icon"
    [ngStyle]="uiElement.iconStyle"
  >
    <mat-icon [style.color]="uiElement.iconColor || 'green'">{{
      uiElement.icon
    }}</mat-icon>
  </button>

  <mat-hint *ngIf="uiElement.hint">{{ uiElement.hint }}</mat-hint>
  <mat-error>{{ uiElement.errorMessage }}</mat-error>
</mat-form-field>

<!-- hidden -->
<input *ngIf="uiElement.inputType == 'hidden'" type="hidden" [value]="value" />

<!-- textarea -->
<mat-form-field
  *ngIf="uiElement.inputType == 'textarea'"
  [appearance]="uiElement.appearance"
  [ngStyle]="uiElement.style"
  [ngClass]="uiElement.class"
  [floatLabel]="uiElement.floatLabel ? uiElement.floatLabel : 'always'"
>
  <mat-label>{{ uiElement.label }}</mat-label>
  <textarea
    matInput
    cdkTextareaAutosize
    #autosize="cdkTextareaAutosize"
    [cdkAutosizeMinRows]="uiElement.rows"
    [(ngModel)]="value"
    [placeholder]="uiElement.placeholder"
    [readonly]="uiElement.readonly"
    [required]="uiElement.required"
    [maxlength]="uiElement.maxlength ? uiElement.maxlength : '-1'"
    (click)="click($event)"
    (focus)="focus($event)"
  ></textarea>
</mat-form-field>

<!-- datetime  -->
<mat-form-field
  *ngIf="uiElement.inputType == 'date'"
  [appearance]="uiElement.appearance"
  [ngStyle]="uiElement.style"
  [ngClass]="uiElement.class"
  [floatLabel]="uiElement.floatLabel ? uiElement.floatLabel : 'always'"
>
  <mat-label>{{ uiElement.label }}</mat-label>
  <input
    #datetimepicker_target
    [owlDateTime]="datetimepicker"
    [owlDateTimeTrigger]="datetimepicker"
    matInput
    [evalValidate]="uiElement.errorCondition"
    [(ngModel)]="value"
    [placeholder]="uiElement.placeholder"
    (dateTimeChange)="inputChanged($event)"
    [required]="uiElement.required"
    [selectMode]="uiElement.selectMode ? uiElement.selectMode : 'single'"
    onfocus="blur()"
    (click)="click($event)"
    (focus)="focus($event)"
  />
  <button
    type="button"
    matSuffix
    mat-icon-button
    [owlDateTimeTrigger]="uiElement.click ? false : datetimepicker"
    *ngIf="uiElement.icon"
    (click)="click($event)"
  >
    <mat-icon [style.color]="uiElement.iconColor || 'green'">{{
      uiElement.icon
    }}</mat-icon>
  </button>
  <owl-date-time
    #datetimepicker
    [disabled]="uiElement.readonly == true ? true : false"
    [pickerType]="uiElement.pickerType ? uiElement.pickerType : 'both'"
    [pickerMode]="uiElement.pickerMode ? uiElement.pickerMode : 'dialog'"
    [startView]="uiElement.startView ? uiElement.startView : 'month'"
    [stepMinute]="uiElement.stepMinute ? uiElement.stepMinute : 1"
    [firstDayOfWeek]="safeGet(uiElement, 'firstDayOfWeek', 1)"
    (yearSelected)="yearSelected($event, datetimepicker)"
    (monthSelected)="monthSelected($event, datetimepicker)"
  ></owl-date-time>
  <mat-hint *ngIf="uiElement.hint">{{ uiElement.hint }}</mat-hint>
  <mat-error>{{ uiElement.errorMessage }}</mat-error>
</mat-form-field>

<!-- checkbox -->
<ng-container *ngIf="uiElement.inputType == 'checkbox'">
  <mat-checkbox
    [ngStyle]="uiElement.checkboxStyle"
    [(ngModel)]="value"
    [(indeterminate)]="uiElement.indeterminate"
    [(labelPosition)]="uiElement.labelPosition"
    [disabled]="uiElement.disabled"
  >
    <div
      *ngIf="uiElement.label"
      [ngStyle]="uiElement.style"
      [ngClass]="uiElement.class"
      [innerHtml]="uiElement.label | safe: 'html'"
    ></div>
  </mat-checkbox>
</ng-container>

<!-- color picker -->
<mat-form-field
  *ngIf="uiElement.inputType == 'color-picker'"
  [appearance]="uiElement.appearance"
  [ngStyle]="uiElement.style"
  [ngClass]="uiElement.class"
  [floatLabel]="uiElement.floatLabel ? uiElement.floatLabel : 'always'"
>
  <mat-label>{{ uiElement.label }}</mat-label>
  <input
    matInput
    #input
    [(colorPicker)]="value"
    [cpPosition]="safeGet(uiElement, 'cpPosition', 'auto')"
    [cpPresetColors]="safeGet(uiElement, 'cpPresetColors', ['#fff', '#000', '#2889e9', '#e920e9', '#fff500', 'rgb(236,64,64)'])"
    [style.background]="value"
    [evalValidate]="uiElement.errorCondition"
    [placeholder]="uiElement.placeholder"
    [(ngModel)]="value"
    [required]="uiElement.required"
    [readonly]="uiElement.readonly"
    (keyup.enter)="keyupEnter()"
    (input)="typeAheadEventEmitter.next($event)"
    (focus)="focus($event)"
  />

  <mat-hint *ngIf="uiElement.hint">{{ uiElement.hint }}</mat-hint>
  <mat-error>{{ uiElement.errorMessage }}</mat-error>
</mat-form-field>
