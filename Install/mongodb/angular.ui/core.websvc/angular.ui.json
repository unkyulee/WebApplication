[
  {
    "_id": ObjectId("000000000000000000000110"),
    "name": "WebSVC List",
    "type": "layout",
    "contentStyle": {
      "display": "flex",
      "flexDirection": "column",
      "height": "100%"
    },
    "layoutStyle": {
      "width": "100%",
      "display": "flex",
      "flex-direction": "column",
      "color": "white",
      "height": "100%"
    },
    "screen": [
      {
        "name": "Filter",
        "type": "layout",
        "layoutStyle": {
          "background": "#2C313D",
          "color": "white",
          "display": "flex",
          "flex-flow": "row wrap"
        },
        "screen": [
          {
            "type": "input",
            "key": "search",
            "label": "Search ...",
            "floatLabel": "never",
            "icon": "search",
            "iconColor": "white",
            "style": {
              "margin": "-12px 0 -12px 8px"
            },
            "class": {
              "white": true
            },
            "changed": "this.data._params_._search=this._value?this._value:''; this.event.send({name:'refresh', key:'websvc'});"
          },
          {
            "type": "div",
            "comment": "spacer",
            "layoutStyle": { "flex-grow": 1, "width": "1px" }
          },
          {
            "type": "button",
            "buttonType": "mat-icon-button",
            "icon": "note_add",
            "click": "this.event.send({name:'open-dialog', width: '100vw', height: '100vh', uiElementId: '000000000000000000000111'});"
          }
        ]
      },
      {
        "type": "data-table",
        "tableType": "card",
        "name": "Appuntamento",
        "key": "appointment",
        "src": "/adminapi/core.websvc",
        "method": "get",
        "transform": "response.data",
        "preProcess": "data = {...data, ...this.data._params_}",
        "layoutStyle": {
          "flex-grow": 1,
          "display": "flex",
          "flex-direction": "column",
          "height": "100%",
          "overflow-y": "auto"
        },
        "style": {
          "cursor": "pointer"
        },
        "itemBoxStyle": {
          "margin": "8px",
          "padding": "8px"
        },
        "click": "this.event.send({name:'open-dialog', width: '100vw', height: '100vh', uiElementId: '000000000000000000000111', data: item});",
        "columns": [
          {
            "type": "typography",
            "key": "navigation_url",
            "label": "navigation_url"
          },
          { "type": "typography", "key": "api_url", "label": "api_url" },
          {
            "type": "typography",
            "key": "description",
            "label": "description"
          },
          {
            "type": "typography",
            "key": "enabled",
            "label": "enabled"
          }
        ]
      }
    ]
  },
  {
    "_id": ObjectId("000000000000000000000111"),
    "type": "layout",
    "name": "Web Service Detail",
    "contentStyle": {
      "display": "flex",
      "flexDirection": "column",
      "height": "100%",
      "width": "100vw"
    },
    "layoutStyle": {
      "width": "100%",
      "display": "flex",
      "flex-wrap": "wrap",
      "color": "white"
    },
    "screen": [
      {
        "type": "form-generator",        
        "layoutStyle": {
          "flex-grow": 1,
          "display": "flex",
          "flex-direction": "column",
          "height": "100%",
          "overflow-y": "auto"
        },
        "save": {
          "src": "/adminapi/core.websvc",
          "method": "post",
          "saveAction": "if(!this.data._id) { this.data._id = response._id; } this.snackBar.open('Saved', null, { duration: 2000 });"
        },
        "delete": {
          "src": "`/adminapi/core.websvc?_id=${this.data._id}`",
          "method": "delete",
          "deleteAction": "this.event.send({name: 'close-dialog'}); this.event.send({name: 'refresh'});"
        },
        "screen": [
          {
            "header": {
              "display": false
            },
            "screen": [
              {
                "type": "code-editor",
                "editorType": "json",
                "path": ".",
                "editorOptions": {
                  "theme": "vs-dark",
                  "automaticLayout": true
                },
                "layoutStyle": {
                  "width": "100%"
                },
                "style": {
                  "width": "100%",
                  "height": "600px"
                }
              }
            ]
          }
        ]
      }
    ]    
  }
]
