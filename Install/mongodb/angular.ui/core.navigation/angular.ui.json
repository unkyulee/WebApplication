[
  {
    "_id": ObjectId("000000000000000000000010"),
    "name": "App Config List",
    "type": "layout",
    "contentStyle": {
      "width": "100%",
      "display": "flex",
      "flex-direction": "column",
      "color": "white",
      "height": "100%"
    },
    "layoutStyle": {
      "width": "100%",
      "display": "flex",
      "flex-direction": "column",
      "color": "white",
      "height": "100%"
    },
    "screen": [
      {
        "type": "layout",
        "layoutStyle": {
          "background": "#2C313D",
          "color": "white",
          "display": "flex",
          "flex-flow": "row wrap"
        },
        "screen": [
          {
            "type": "input",
            "key": "search",
            "label": "Search ...",
            "floatLabel": "never",
            "icon": "search",
            "iconColor": "white",
            "style": {
              "margin": "-12px 0 -12px 8px"
            },
            "class": {
              "white": true
            },
            "changed": "this.event.send({ name: 'refresh', key: 'table' })"
          },
          {
            "type": "div",
            "layoutStyle": { "flex-grow": 1, "width": "1px" }
          },
          {
            "type": "button",
            "buttonType": "mat-icon-button",
            "icon": "add_circle",
            "click": "this.router.navigateByUrl(`/core.navigation/detail`)"
          }
        ]
      },
      {
        "name": "App Config Data Table",
        "type": "data-table",
        "tableType": "card",
        "key": "table",
        "layoutStyle": {
          "flex-grow": 1,
          "display": "flex",
          "flex-direction": "column",
          "height": "100%",
          "overflow-y": "auto"
        },
        "itemBoxStyle": {
          "margin": "8px",
          "padding": "8px",
          "cursor": "pointer"
        },
        "src": "`/adminapi/core.navigation?_sort_desc=priority`",
        "method": "get",
        "transform": "response.data",
        "click": "this.event.send({name: 'open-dialog', width: '100vw', height: '100vh', uiElementId: '000000000000000000100110', data: item});",
        "columns": [
          {
            "type": "typography",
            "key": "name",
            "label": "name"
          },
          {
            "type": "typography",
            "key": "url",
            "label": "url"
          },
          {
            "type": "typography",
            "key": "priority",
            "label": "priority"
          }
        ]
      }
    ]
  },
  {
    "_id": ObjectId("000000000000000000100110"),
    "name": "App Config Detail",
    "type": "layout",
    "contentStyle": {
      "display": "flex",
      "flexDirection": "column",
      "height": "100%",
      "width": "100%"
    },
    "layoutStyle": {
      "display": "flex",
      "flexDirection": "column",
      "height": "100%",
      "width": "100%"
    },
    "screen": [
      {
        "type": "layout",
        "layoutStyle": {
          "background": "rgb(44, 49, 61)",
          "width": "100%",
          "display": "flex",
          "flex-wrap": "wrap",
          "color": "white"
        },
        "screen": [
          {
            "type": "button",
            "buttonType": "mat-icon-button",
            "icon": "delete",
            "click": "if(confirm('Sei sicuro di voler eliminare?')) { this.event.send({name: 'delete'}) }"
          },
          {
            "type": "div",
            "layoutStyle": { "flex-grow": 1, "width": "1px"}
          },          
          {
            "type": "button",
            "buttonType": "mat-icon-button",
            "icon": "save",
            "click": "this.event.send({name: 'save'});"
          }
        ]
      },
      {
        "type": "form-generator",
        "layoutStyle": {
          "flex-grow": 1,
          "display": "flex",
          "flex-direction": "column",
          "height": "100%",
          "overflow-y": "auto"
        },
        "save": {
          "src": "`/adminapi/core.navigation`",
          "method": "post"
        },
        "delete": {
          "src": "`/adminapi/core.navigation?_id=${this.data._id}`",
          "method": "delete",
          "deleteAction": "this.event.send({name: 'close-dialog'}); this.event.send({name: 'refresh'});"
        },
        "screen": [
          {
            "expanded": true,
            "header": { "display": false },
            "screen": [
              {
                "type": "code-editor",
                "editorType": "json",
                "path": ".",
                "label": "Core.Navigation",
                "editorOptions": {
                  "theme": "vs-dark",
                  "automaticLayout": true
                },
                "layoutStyle": {
                  "width": "100%"
                },
                "style": {
                  "width": "100%",
                  "height": "500px"
                }
              }
            ]
          }
        ]
      }
    ]
  }
]
