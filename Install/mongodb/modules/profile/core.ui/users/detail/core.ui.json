{
  "_id": "100000000000000000010001",
  "name": "Cliente",
  "type": "layout",
  "contentStyle": {
    "display": "flex",
    "flexDirection": "column",
    "height": "100%"
  },
  "layoutStyle": {
    "width": "100%",
    "display": "flex",
    "flex-wrap": "wrap",
    "color": "white",
    "height": "100%"
  },
  "screens": [
    {
      "type": "layout",
      "layoutStyle": {
        "background": "#2C313D",
        "width": "100%",
        "display": "flex",
        "flex-wrap": "wrap",
        "color": "white"
      },
      "screens": [
        {
          "type": "button",
          "buttonType": "mat-icon-button",
          "icon": "delete",
          "click": "if(confirm('Sei sicuro di voler eliminare?')) { this.event.send({name: 'delete'}); this.event.send({name: 'refresh'}); this.event.send({name: 'close-dialog'}) }"
        },
        {
          "type": "div",
          "comment": "spacer",
          "layoutStyle": { "flex-grow": 1 },
          "style": { "width": "1px" }
        },
        {
          "type": "typography",
          "condition": "!this.data._id",
          "text": "Devi salvare",
          "layoutStyle": {
            "text-align": "center"
          },
          "style": {
            "padding": "10px",
            "text-transform": "uppercase",
            "font-weight": "bold",
            "color": "chartreuse"
          }
        },
        {
          "type": "button",
          "buttonType": "mat-icon-button",
          "icon": "save",
          "click": "this.event.send({ 'name': 'save' });"
        }
      ]
    },
    {
      "_id": ObjectId("a44444000000000000000023"),
      "type": "form-generator",
      "layoutStyle": {
        "flex-grow": 1,
        "display": "flex",
        "flex-direction": "column",
        "height": "100%",
        "overflow-y": "auto"
      },
      "save": {
        "src": "`/apicomm/client`",
        "method": "post",
        "saveAction": "if(!this.data._id) { this.data._id = response._id; this.event.send({name: 'refresh'}); } this.snackBar.open('Salvato', null, { duration: 2000 }); "
      },
      "delete": {
        "src": "`/apicomm/client?_id=${this.data._id}`",
        "method": "delete"
      },
      "screens": [
        {
          "name": "Detail",
          "expanded": true,
          "header": {
            "screens": [
              {
                "type": "typography",
                "text": "Cliente"
              }
            ]
          },
          "screens": [
            {
              "type": "input",
              "inputType": "email",
              "key": "id",
              "label": "utente (email)",
              "hint": "MUST be an email address",
              "errorCondition": "!value",
              "errorMessage": "nome utente deve essere email",
              "layoutStyle": {
                "width": "100%"
              },
              "style": {
                "width": "100%"
              }
            },
            {
              "type": "input",
              "inputType": "password",
              "key": "password",
              "label": "password",
              "condition": "!this.data._id",
              "layoutStyle": {
                "width": "100%"
              },
              "style": {
                "width": "100%"
              }
            },
            {
              "type": "selection",
              "key": "groups",
              "compare": "o1._id == o2._id",
              "label": "Gruppo di sicurezza",
              "hint": "Select 'Client'",
              "src": "/apicomm/group?_projection=_id,name",
              "transform": "response.data",
              "multiple": true,
              "optionLabelTransform": "`${option.name}`",
              "errorCondition": "!value",
              "errorMessage": "manca Gruppo di sicurezza",
              "layoutStyle": {
                "width": "100%"
              },
              "style": {
                "width": "100%"
              }
            },
            {
              "key": "name",
              "label": "nome",
              "layoutStyle": {
                "width": "100%"
              },
              "style": {
                "width": "100%"
              }
            },
            {
              "key": "mobile",
              "label": "cellulare",
              "layoutStyle": {
                "width": "100%"
              },
              "style": {
                "width": "100%"
              }
            },
            {
              "type": "button",
              "label": "Resetta la password",
              "condition": "this.data._id",
              "color": "warn",
              "click": "this.event.send({name:'open-dialog', uiElementId: 'a44444000000000000000021', data: {_id: this.data._id}});"
            }
          ]
        }
      ]
    }
  ]
}