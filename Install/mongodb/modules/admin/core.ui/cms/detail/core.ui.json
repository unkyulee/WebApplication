{
  "_id": "200000000000000000000091",
  "type": "layout",
  "name": "Content Detail",
  "layoutStyle": {
    "display": "flex",
    "flex-direction": "row",
    "flex-wrap": "wrap",
    "flex-grow": 1,
    "font-size": "small",
    "height": "100%"
  },
  "contentStyle": {
    "display": "flex",
    "flexFlow": "column",
    "flexGrow": 1,
    "height": "100%",
    "padding": "8px"
  },
  "actions": [
    {
      "type": "button",
      "buttonType": "mat-icon-button",
      "label": "Salva",
      "click": "delete this.data._params_;\r\nthis.rest.request(`/api/admin/cms`, this.data, 'put').subscribe(response => {\r\n    if (!this.data._id) {\r\n        this.data._id = response._id;\r\n    } \r\n    this.snackBar.open('Salvato', null, { duration: 2000 }); \r\n    this.event.send({name: 'refresh'});\r\n})",
      "icon": "save"
    }
  ],
  "screens": [
    {
      "type": "uploader",
      "key": "_params_.content",
      "upload": {
        "url": "`${this.config.get('host')}/api/admin/cms?_id=${this.data._id}`",
        "method": "post",
        "authToken": "`Bearer ${localStorage.getItem('token')}`",
        "authTokenHeader": "`Authorization`",
        "headers": "[ { name: 'company_id', value: `${this.config.get('_id')}` } ]",
        "downloadPathTransform": "`/cms${response[0]}`",
        "idTransform": "response[0]"
      }
    },
    {
      "type": "typography",
      "condition": "this.data.folder && this.data.name",
      "format": "`${location.origin}/cms${this.data.folder}/${this.data.name}`",
      "layoutStyle": {
        "width": "100%",
        "marginBottom": "8px",
        "marginTop": "4px"
      },
      "style": {
        "fontSize": "larger",
        "color": "darkblue"
      }
    },
    {
      "type": "input",
      "key": "folder",
      "label": "Folder",
      "layoutStyle": {
        "width": "100%"
      },
      "style": {
        "width": "100%"
      }
    },
    {
      "type": "input",
      "key": "name",
      "label": "Filename",
      "layoutStyle": {
        "width": "100%"
      },
      "style": {
        "width": "100%"
      }
    },
    {
      "type": "selection",
      "key": "type",
      "label": "Type",
      "options": [
        "text",
        "binary",
        "base64"
      ],
      "layoutStyle": {
        "width": "100%"
      },
      "style": {
        "width": "100%"
      }
    },
    {
      "type": "button",
      "color": "primary",
      "label": "Upload File",
      "click": "this.event.send({ name: 'upload-file', key: '_params_.content' });"
    },
    {
      "type": "layout",
      "layoutStyle": {
        "height": 0,
        "flexGrow": 1
      }
    },
    {
      "type": "button",
      "color": "warn",
      "label": "Delete",
      "click": "if (confirm('are you sure to delete?')) {\r\n    this.rest.request(`/api/admin/cms?_id=${this.data._id}`, null, 'delete').subscribe(r => {\r\n        this.event.send({ name: 'close-dialog' });\r\n        this.event.send({ name: 'refresh' })\r\n    })\r\n}\r\n"
    },
    {
      "type": "typography",
      "key": "_id",
      "layoutStyle": {
        "width": "100%",
        "textAlign": "right"
      }
    }
  ]
}