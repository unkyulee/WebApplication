{
  "_id": "200000000000000000000015",
  "name": "Core Company - Theme",
  "type": "side-nav",
  "key": "filters",
  "opened": "true",
  "mode": "'side'",
  "layoutStyle": {
    "width": "100%",
    "display": "flex",
    "flex-direction": "column",
    "color": "white",
    "height": "100%",
    "overflow": "hidden"
  },
  "containerStyle": {
    "display": "flex",
    "flex-direction": "column",
    "height": "100%",
    "overflow": "hidden"
  },
  "sideStyle": {
    "background": "ghostwhite",
    "display": "flex",
    "flexFlow": "row wrap",
    "color": "black",
    "padding": "4px",
    "max-width": "300px",
    "width": "300px"
  },
  "sideScreens": [
    {
      "type": "input",
      "label": "JSON Path",
      "floatLabel": "auto",
      "layoutStyle": {
        "width": "100%"
      },
      "style": {
        "width": "100%"
      },
      "changed": "this.event.send({name: 'path', key: 'theme', path: this._value});"
    },
    {
      "type": "selection",
      "label": "Language",
      "options": [
        "javascript",
        "html",
        "json"
      ],
      "floatLabel": "auto",
      "layoutStyle": {
        "width": "100%"
      },
      "style": {
        "width": "100%"
      },
      "selected": "this.event.send({name: 'editorOptions', key: 'theme', editorOptions: {language: option}});"
    }
  ],
  "screens": [
    {
      "type": "code-editor",
      "editorType": "json",
      "key": "theme",
      "path": "",
      "init": "// find the uiElement with the same id as the company_id\r\n(async () => {\r\n    let theme = await this.rest.requestAsync(\r\n        `/api/admin/core.theme`,\r\n        { _id: this.data.company_id }\r\n    );\r\n    theme = obj.get(theme, 'data.0');\r\n    if (!theme) {\r\n        theme = await this.rest.requestAsync(\r\n            `/api/admin/core.theme`,\r\n            { _id: '000000000000000000000000' }\r\n        );\r\n        theme = obj.get(theme, 'data.0');\r\n        if(!theme) theme = {};\r\n        theme.company_id = this.data.company_id;\r\n    }\r\n\r\n    this.event.send({\r\n        name: 'load-code',\r\n        key: 'theme',\r\n        data: theme\r\n    });\r\n})();\r\n",
      "save": {
        "src": "`/api/admin/core.ui`",
        "method": "post",
        "saveAction": "if(!this.data._id) { this.data._id = response._id; this.nav.setParam('_id', response._id, true); } this.snackBar.open('Salvato', null, { duration: 2000 });"
      },
      "editorOptions": {
        "theme": "vs-dark",
        "automaticLayout": true
      },
      "layoutStyle": {
        "flex-grow": 1,
        "display": "flex",
        "flex-direction": "column",
        "height": "100%",
        "width": "100%"
      },
      "style": {
        "width": "100%",
        "height": "100%"
      }
    }
  ]
}